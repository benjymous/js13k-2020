<style>
  html,
  body {
    background-color: #000
  }

  svg {
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%
  }
</style>
<!--
  ///#define boxes bs
  ///#define star s
  ///#define box b
  ///#define update u
-->

<body>
  <svg viewBox="0 0 640 640">
    <filter id="g" filterUnits="userSpaceOnUse">
      <feGaussianBlur in="SourceGraphic" stdDeviation="1.5" result="z1"/>
      <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="z2"/>
      <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="z3"/>
      <feMerge>
        <feMergeNode in="z1"/>
        <feMergeNode in="z2"/>
        <feMergeNode in="z3"/>
      </feMerge>
    </filter>
    <filter id="f" filterUnits="userSpaceOnUse">
      <feGaussianBlur in="SourceGraphic" stdDeviation="3"/>
    </filter>

    <rect width="640" height="640" fill="#000"/>
    <g filter="url(#f)" id="l0">&nbsp;</g>
    <g filter="url(#g)" id="l1">&nbsp;</g>
    <g style="visibility: hidden">
      <rect id="star" width="2" height="2" fill="#f00"/>
      <rect id="box" width="20" height="20" stroke="#f00" fill-opacity="0"/>
    </g>
  </svg>
  <script>

    cols=["#f00", "#f70", "#ff0", "#7f0", "#0f0", "#0f7", "#0ff", "#07f", "#00f", "#70f", "#f0f", "#f07"];

    stars=[]; boxes=[];

    for(i=0; i<100; ++i) {
      e=star.cloneNode();
      e.setAttribute("fill", cols[i%cols.length]);
      e.removeAttribute("id");
      stars.push(e);
      l0.appendChild(e)
    };

    for(i=0; i<50; ++i) {
      e=box.cloneNode();
      e.setAttribute("stroke", cols[i%cols.length]);
      e.removeAttribute("id");
      boxes.push(e);
      l1.appendChild(e)
    };

    s = 0.1;
    boxes.forEach(o => o.d = { r: 0, x: Math.random() * 640, y: Math.random() * 640, s: s += 0.0005 });
    stars.forEach(o => o.d = { r: Math.random(), x: 300 + (Math.random() * 40), y: 300 + (Math.random() * 40), z: 0.1 });

    update = o => o.setAttribute("transform", `translate(${o.d.x} ${o.d.y}) rotate(${o.d.r}) scale(${o.d.z})`);
    
    //mx = 0; my = 0;
    //scale = 640 / c.clientWidth;

    //c.addEventListener("mousemove", e => {
    //  mx = e.x * scale;
    //  my = e.y * scale
    //});

    n = 0;
    // Game loop
    setInterval(e => {

      //tx = mx; ty = my;

      n += 50 / 2000;

      x = 320 + (Math.sin(n) * 250);
      y = 320 + (Math.cos(n) * 250);

      boxes.forEach(o => {
        o.d.r += o.d.s * 5;
        o.d.x = (o.d.x * (1 - o.d.s)) + (x * o.d.s);
        o.d.y = (o.d.y * (1 - o.d.s)) + (y * o.d.s);
        o.d.z = 2.0 + Math.sin(n - (o.d.s * 100));
        x = o.d.x;
        y = o.d.y;
        update(o)
      });

      stars.forEach(o => {
        m = 1.1 + ((Math.abs(o.d.x - 320)) / 500);
        o.d.z += m / 10;
        o.d.r += 1;
        o.d.x = ((o.d.x - 320) * m) + 320;
        o.d.y = ((o.d.y - 320) * m) + 320;
        if (o.d.x < 0 || o.d.x > 640 || o.d.y < 0 || o.d.y > 640) {
          o.d.x = 305 + (Math.random() * 30);
          o.d.y = 305 + (Math.random() * 30);
          o.d.z = 0.5
        };
        update(o)
      })

    }, 50)
  </script>
</body>